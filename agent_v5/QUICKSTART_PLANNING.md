# Quick Start: Using OpenAI o3/o1 for Planning

Get started with multi-model agent workflows in 3 steps.

## 1. Set Environment Variables

```bash
# Required: Anthropic API key (for main agent execution)
export ANTHROPIC_API_KEY=sk-ant-...

# Required: OpenAI API key (for planning)
export OPENAI_API_KEY=sk-...

# Choose planning model
export PLANNING_MODEL=o3-mini  # Recommended: fast and cost-effective
```

## 2. Run Your Agent

### Option A: Command Line

```bash
cd canada-research
python -c "
import asyncio
from agent_v5.agent import ResearchAgent

async def main():
    agent = ResearchAgent(
        session_id='test',
        workspace_dir='./workspace/test',
        system_prompt='You are a helpful research assistant.'
    )

    async for msg in agent.run('Analyze the sales dataset and create a report'):
        if msg.get('type') == 'text_delta':
            print(msg['text'], end='', flush=True)

    await agent.cleanup()

asyncio.run(main())
"
```

### Option B: mle-bench (Kaggle Competitions)

```bash
# Set planning model
export PLANNING_MODEL=o3-mini
export OPENAI_API_KEY=sk-...

# Run agent on Kaggle competition
cd mle-bench
./RUN_AGENT_V5_KAGGLE.sh
```

## 3. Verify It's Working

You should see output like:

```
# Execution Plan (Generated by o3-mini)

## 1. Goal Analysis

**Core Objective:**
Analyze sales dataset and generate comprehensive report...

[... detailed plan ...]

---
*Plan created. Proceed with execution following the steps above.*
```

Then the agent will execute the plan using Claude + tools.

## Model Recommendations

| Use Case | Model | Speed | Cost | Quality |
|----------|-------|-------|------|---------|
| **Production** | `o3-mini` | ⚡⚡⚡ | $ | ⭐⭐⭐⭐ |
| **Development** | `claude-sonnet-4-5` | ⚡⚡⚡⚡ | $ | ⭐⭐⭐ |
| **Max Reasoning** | `o1` | ⚡ | $$$ | ⭐⭐⭐⭐⭐ |
| **Budget** | `o1-mini` | ⚡⚡ | $$ | ⭐⭐⭐ |

## Troubleshooting

**"No module named 'openai'"**
```bash
pip install openai
```

**Planning not being used**
```bash
# Check env var is set
echo $PLANNING_MODEL

# Should output: o3-mini (or your chosen model)
```

**Want to disable OpenAI planning?**
```bash
# Use Claude Opus for planning (default)
export PLANNING_MODEL=claude-opus-4-20250514

# Or use Claude Sonnet (faster)
export PLANNING_MODEL=claude-sonnet-4-5-20250929

# No OPENAI_API_KEY needed
```

## Full Documentation

See [PLANNING_MODELS.md](PLANNING_MODELS.md) for:
- Detailed architecture explanation
- All supported models
- Advanced configuration
- Performance benchmarks
- Integration examples

## Summary

✅ **3 environment variables:**
- `ANTHROPIC_API_KEY` (required)
- `OPENAI_API_KEY` (required for OpenAI models)
- `PLANNING_MODEL=o3-mini` (recommended)

✅ **No code changes needed** - just set environment variables

✅ **Best for:**
- Complex multi-step tasks
- Data analysis workflows
- Kaggle competitions
- Research tasks

---

**That's it!** Your agent now uses o3-mini for planning and Claude for execution.
